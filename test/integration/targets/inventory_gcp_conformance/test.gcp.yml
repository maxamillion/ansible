plugin: gcp_compute
projects:
  - ansible-tower-engineering
auth_kind: serviceaccount
service_account_file: /home/admiller/.gcp_tower_creds.json
zones:
  - us-east1-d
  - us-east4-a
keyed_groups:
  - prefix: network
    key: gce_subnetwork
  - prefix: tag
    key: gce_tags
  - key: machineType
    separator: ""
  - key: machineType
    prefix: ''
    separator: ''
  - key: zone
    prefix: ''
    separator: ''
  - key: status | lower
    prefix: status
compose:
  #gce_uuid:
  gce_id: id
  #gce_image: https://github.com/ansible/ansible/pull/52688
  gce_machine_type: machineType
  gce_private_ip: networkInterfaces[0]['networkIP']
  gce_public_ip: networkInterfaces[0]['accessConfigs'][0]['natIP']
  gce_name: name
  gce_description: description
  gce_status: status
  gce_zone: zone
  gce_tags: tags.get('items', [])
  gce_metadata: metadata
  gce_network: networkInterfaces[0]['network']['name']
  gce_subnetwork: networkInterfaces[0]['subnetwork']['name']
  ansible_ssh_host: networkInterfaces[0]['accessConfigs'][0]['natIP']
use_contrib_script_compatible_sanitization: true
